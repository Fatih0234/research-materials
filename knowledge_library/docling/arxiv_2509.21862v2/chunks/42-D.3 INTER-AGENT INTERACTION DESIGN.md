## D.3 INTER-AGENT INTERACTION DESIGN

Shachi can specify both static and dynamic communication topologies. In Shachi, messages are structured with explicit sender id ( src\_agent\_id ) and receiver id ( dst\_agent\_id ). Listing 3 shows a minimal implementation of this process.

```
1 class Message(pydantic.BaseModel, abc.ABC): 2 time: int 3 src_agent_id: int | None # sender id 4 dst_agent_id: int | None # receiver id
```

Listing 3: Messaging design for inter-agent communication in Shachi.

1. Dynamic Communication Graphs: Agents can autonomously determine their communication partners by setting the receiver id ( dst\_agent\_id ) at runtime based on their observations, internal state, or task requirements. This allows for flexible communication patterns that evolve during simulation.
2. Static Communication Graphs: The environment can enforce predetermined communication topologies by restricting which receiver id ( dst\_agent\_id ) values are valid for each agent, effectively implementing static network structures.

Upon receiving messages from agents, the environment functions as a message router that processes sender-receiver pairs to implement various communication patterns. It also includes broadcasting to all agents when receiver id ( dst\_agent\_id ) is set to None .
