## 4.1 Allocation Rule

As discussed in Section 3, the allocation rule of our auction setting is the LLM π θ itself, with the allocation result being the LLM's output distribution π θ ( ·| x, h, a , b ) . Thus, optimizing the allocation is equivalent to adjusting this distribution to maximize the objective defined in Eq. (2). We formulate this problem as a preference alignment task between bid-aware LLMs and the mechanism's objective, and fine-tune the LLMs with candidate ads and bids as input using a reward model induced by the mechanism's objective. We first detail our reward model in Section 4.1.1. Based on this reward model, we then propose an LLM optimization algorithm in Section 4.1.2. Finally, Section 4.1.3 provides an analysis of the key properties of our allocation rule.
