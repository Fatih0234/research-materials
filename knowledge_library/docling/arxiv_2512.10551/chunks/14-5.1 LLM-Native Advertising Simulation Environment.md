## 5.1 LLM-Native Advertising Simulation Environment

A key bottleneck in the emerging field of mechanism design for LLMs is the lack of standardized, quantitative, and large-scale evaluation methodologies for measuring mechanism performance. Prior work predominantly relies on qualitative analyses or small-scale experiments involving merely dozens of queries and several ads, which fall far short of reflecting the scale and complexity of ad auctions in real-world industrial scenarios.

User Profile

1

User-LLM

User Query

Candidate ads

Ad-LLM

â€¢ Response

User-LLM

Click Feedback

Figure 3: Illustration of our proposed simulation environment. The Ad-LLM is the module responsible for generating ad-integrated responses in the evaluated mechanisms. The numbers in the figure indicate the order of data flow.

<!-- image -->

To address this gap, we introduce a simulation environment inspired by the LLM-as-a-Judge paradigm [Li et al., 2025], which simulates the entire ad serving and user feedback pipeline in LLM-powered interactive AI applications (e.g., chatbots and AI search engines). Building upon this environment, we construct a comprehensive dataset comprising large-scale user queries and various candidate ads, enabling both alignment training for LLMs and the evaluation of mechanism performance at an industrial scale. As illustrated in Figure 3, our pipeline consists of two core modules: the Ad-LLM and the User-LLM. The Ad-LLM serves as the module responsible for generating the final response that incorporates native advertisements. Specifically, in our LLM-Auction framework, it is the trained LLM itself. The User-LLM is used to simulate user behavior, including generating personalized queries and simulating clicks, etc. The overall process is divided into three main stages:

- User Query Generation: The User-LLM generates user queries based on input user profiles, which contain basic user information and personal interests.
- Ad-Integrated Response Generation: Given a structured prompt containing the user query, user profile, and all candidate ad information with bids, the Ad-LLM then generates the response that integrates the clickable ads. 1
- User Click Feedback: Based on the user profile, the original query, and the corresponding ad-integrated response from the Ad-LLM, the User-LLM simulates real user click behavior and returns structured ad click information.

A concrete example from our proposed simulation environment is presented in Table 1. Due to space limitations, this example only inserts one ad, but our mechanism does not explicitly limit the number of ads that can be inserted. Examples of inserting multiple ads simultaneously can be found in Appendix C.
